(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{123:function(e,t,n){},125:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(38),l=n(21),c=n(12),i=n(13),s=n(63),u=n(64),p=n.n(u),m=n(14),d={count:0,isIncrementing:!1,isDecrementing:!1},E={email:"",password:"",error:{is:!1,msg:""}},h=function(e){return function(t){t({type:"login/UPDATE_PASSWORD_FIELD",payload:{password:e}})}},g=function(e){return function(t){t({type:"login/UPDATE_EMAIL_FIELD",payload:{email:e}})}},O=function(e,t){return function(n){n({type:"login/REQUEST_LOGIN"}),fetch("https://api.team9postoffice.ga/auth",{method:"post",credentials:"include",headers:{accept:"application/json, text/plain, */*","content-type":"application/json"},body:JSON.stringify({email:e,password:t})}).then(function(e){if(e.ok)return e.json();n({type:"login/LOGIN_FAILED",payload:{error:{is:!0,msg:"Server Error. Please try again later."}}})}).then(function(e){console.log(e),e.isAuth?(n({type:"login/LOGIN_SUCCESS"}),n(Object(c.push)("/"))):n({type:"login/LOGIN_FAILED",payload:{error:{is:!0,msg:"Invalid Credentials."}}})})}},b=n(26),f=n.n(b),y={role:"",errorMsg:""},v=function(){return console.log("here"),function(e){e({type:"home/FETCH_ROLE_COOKIE"});var t=f.a.get("role");t?e({type:"home/SET_ROLE_COOKIE",payload:{role:t}}):(e({type:"home/FAIL_ROLE_COOKIE"}),e(Object(c.push)("/login")))}},j=Object(i.c)({counter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;switch((arguments.length>1?arguments[1]:void 0).type){case"counter/INCREMENT_REQUESTED":return Object(m.a)({},e,{isIncrementing:!0});case"counter/INCREMENT":return Object(m.a)({},e,{count:e.count+1,isIncrementing:!e.isIncrementing});case"counter/DECREMENT_REQUESTED":return Object(m.a)({},e,{isDecrementing:!0});case"counter/DECREMENT":return Object(m.a)({},e,{count:e.count-1,isDecrementing:!e.isDecrementing});default:return e}},login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"login/UPDATE_PASSWORD_FIELD":return Object(m.a)({},e,{password:t.payload.password});case"login/UPDATE_EMAIL_FIELD":return Object(m.a)({},e,{email:t.payload.email});case"login/REQUEST_LOGIN":return e;case"login/LOGIN_FAILED":return Object(m.a)({},e,{error:t.payload.error});case"login/LOGIN_SUCCESS":return Object(m.a)({},e);default:return e}},home:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"home/FETCH_ROLE_COOKIE":return e;case"home/SET_ROLE_COOKIE":return Object(m.a)({},e,{role:t.payload.role});case"home/FAIL_ROLE_COOKIE":default:return e}}}),C=n(65),w=n.n(C),I=p()(),L=[s.a,Object(c.routerMiddleware)(I),w.a],_=i.d.apply(void 0,[i.a.apply(void 0,L)].concat([])),D=Object(i.e)(Object(c.connectRouter)(I)(j),{},_),S=n(127),T=n(16),k=n(17),R=n(20),F=n(18),N=n(19),A=function(e){function t(){return Object(T.a)(this,t),Object(R.a)(this,Object(F.a)(t).apply(this,arguments))}return Object(N.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("p",null,"Customer"))}}]),t}(r.a.Component),P=function(e){function t(e){var n;return Object(T.a)(this,t),(n=Object(R.a)(this,Object(F.a)(t).call(this,e))).props.getRoleCookie(),n}return Object(N.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){var e,t=this.props.role;return console.log(t),"Customer"===t?e=r.a.createElement(A,null):"Facility"===t?e=r.a.createElement("p",null,"Facility Home"):"Truck"===t?e=r.a.createElement("p",null,"Truck Home"):this.props.pushLogin(),r.a.createElement("div",null,e)}}]),t}(r.a.Component),G=Object(l.connect)(function(e){return{role:e.home.role}},function(e){return Object(i.b)({getRoleCookie:v,pushLogin:function(){return Object(c.push)("login")}},e)})(P),M=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"About Page"),r.a.createElement("p",null,"Did you get here via Redux?"))},x=n(15),U=n.n(x),H=n(32),K=n.n(H),J=n(44),Q=n.n(J),W=function(e){function t(){var e,n;Object(T.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(R.a)(this,(e=Object(F.a)(t)).call.apply(e,[this].concat(r)))).handlePasswordChange=function(e){console.log(e.target.value),n.props.updatePasswordField(e.target.value)},n.handleEmailChange=function(e){console.log(e.target.value),n.props.updateEmailField(e.target.value)},n.handleSubmitClick=function(){console.log(n.props.email),console.log(n.props.password),n.props.checkLoginCredentials(n.props.email,n.props.password)},n}return Object(N.a)(t,e),Object(k.a)(t,[{key:"componentDidMount",value:function(){var e=f.a.get("user_id"),t=f.a.get("role");console.log(t,e),e&&t&&this.props.pushHome()}},{key:"render",value:function(){return r.a.createElement("div",{style:B},this.props.error.is?r.a.createElement(Q.a,{variant:"danger"}," ",r.a.createElement(Q.a.Heading,null,"Login Error!"),r.a.createElement("p",null,"Your email or password is incorrect. Try again.")):null,r.a.createElement(U.a,{style:Y},r.a.createElement(U.a.Group,{controlId:"formBasicEmail"},r.a.createElement(U.a.Label,null,"Email address"),r.a.createElement(U.a.Control,{type:"email",placeholder:"Enter email",value:this.props.email,onChange:this.handleEmailChange.bind(this)}),r.a.createElement(U.a.Text,{className:"text-muted"},"We'll never share your email with anyone else.")),r.a.createElement(U.a.Group,{controlId:"formBasicPassword"},r.a.createElement(U.a.Label,null,"Password"),r.a.createElement(U.a.Control,{type:"password",placeholder:"Password",value:this.props.password,onChange:this.handlePasswordChange.bind(this)})),r.a.createElement(K.a,{variant:"primary",size:"large",onClick:this.handleSubmitClick.bind(this)},"Submit")))}}]),t}(r.a.Component),B={textAlign:"center"},Y={display:"inline-block",margin:"0 auto",marginTop:"3%",width:"20%"},q=Object(l.connect)(function(e){var t=e.login;return{email:t.email,password:t.password,error:t.error}},function(e){return Object(i.b)({updatePasswordField:h,updateEmailField:g,checkLoginCredentials:O,pushHome:function(){return Object(c.push)("/")}},e)})(W),z=n(46),Z=n.n(z),V=n(45),X=n.n(V),$=n(42),ee=n.n($),te=function(e){function t(){return Object(T.a)(this,t),Object(R.a)(this,Object(F.a)(t).apply(this,arguments))}return Object(N.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("link",{rel:"stylesheet",href:"https://maxcdn.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css",integrity:"sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS",crossOrigin:"anonymous"}),r.a.createElement(X.a,{bg:"primary",variant:"dark"},r.a.createElement(X.a.Brand,{href:"/"},"Navbar"),r.a.createElement(Z.a,{className:"mr-auto"},r.a.createElement(Z.a.Link,{href:"/"},"Home")),r.a.createElement(U.a,{inline:!0},r.a.createElement(ee.a,{type:"text",placeholder:"Search",className:"mr-sm-2"}),r.a.createElement(K.a,{variant:"outline-light"},"Search"))))}}]),t}(r.a.Component),ne=function(){return r.a.createElement("div",null,r.a.createElement("header",null,r.a.createElement(te,null)),r.a.createElement("main",null,r.a.createElement(S.a,{exact:!0,path:"/",component:G}),r.a.createElement(S.a,{exact:!0,path:"/about-us",component:M}),r.a.createElement(S.a,{exact:!0,path:"/login",component:q})))},ae=(n(121),n(123),document.querySelector("#root"));Object(o.render)(r.a.createElement(l.Provider,{store:D},r.a.createElement(c.ConnectedRouter,{history:I},r.a.createElement("div",null,r.a.createElement(ne,null)))),ae)},66:function(e,t,n){e.exports=n(125)}},[[66,2,1]]]);
//# sourceMappingURL=main.314d0300.chunk.js.map