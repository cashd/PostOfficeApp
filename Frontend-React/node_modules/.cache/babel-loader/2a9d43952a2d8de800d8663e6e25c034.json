{"ast":null,"code":"import _classCallCheck from \"/home/cash/Documents/PostOffice/Frontend-React/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/cash/Documents/PostOffice/Frontend-React/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/cash/Documents/PostOffice/Frontend-React/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/cash/Documents/PostOffice/Frontend-React/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"/home/cash/Documents/PostOffice/Frontend-React/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/home/cash/Documents/PostOffice/Frontend-React/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/cash/Documents/PostOffice/Frontend-React/src/containers/tracking/index.js\";\nimport React from 'react';\nimport Button from 'react-bootstrap/Button';\nimport Form from 'react-bootstrap/Form';\nimport Col from 'react-bootstrap/Col';\nimport Card from 'react-bootstrap/Card';\nimport Table from 'react-bootstrap/Table';\nimport { List } from 'immutable';\nimport { apiPost } from '../../utils/api';\nimport Alert from 'react-bootstrap/Alert';\n\nvar Tracking =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Tracking, _React$Component);\n\n  function Tracking(props) {\n    var _this;\n\n    _classCallCheck(this, Tracking);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Tracking).call(this, props));\n\n    _this.getHistory = function () {\n      if (_this.state.packageID) {\n        apiPost('/package/history', {\n          packageID: _this.state.packageID\n        }).then(function (resp) {\n          if (resp.history) {\n            _this.setState({\n              history: List(resp.history),\n              showHistory: true\n            });\n          } else {\n            _this.setState({\n              notification: {\n                is: true,\n                message: 'Package does not have a history.',\n                type: 'warning',\n                header: 'Warning!'\n              }\n            });\n          }\n        }).catch(function (error) {\n          _this.setState({\n            notification: {\n              is: true,\n              message: 'Cannot get package history.',\n              type: 'danger',\n              header: 'Error!'\n            }\n          });\n        });\n      }\n    };\n\n    _this.handlePackageID = function (event) {\n      _this.setState({\n        packageID: event.target.value\n      });\n    };\n\n    _this.handleSubmit = function () {\n      console.log(_this.state.packageID);\n\n      if (_this.state.packageID) {\n        _this.getHistory();\n      }\n    };\n\n    _this.makeTR = function (e, id) {\n      return React.createElement(React.Fragment, {\n        key: id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, \" \", e.timeOfEvent, \" \"), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, \" \", e.locationOfEvent, \" \"), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, \" \", e.eventType, \" \")));\n    };\n\n    console.log(props.location);\n    _this.state = {\n      notification: {\n        is: false,\n        message: '',\n        type: '',\n        header: ''\n      },\n      packageID: props.location.hash ? props.location.hash.substr(1) : undefined,\n      history: List([]),\n      showHistory: !!props.location.hash\n    };\n    _this.makeTR = _this.makeTR.bind(_assertThisInitialized(_this));\n    _this.getHistory = _this.getHistory.bind(_assertThisInitialized(_this));\n    _this.handlePackageID = _this.handlePackageID.bind(_assertThisInitialized(_this));\n    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(Tracking, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (this.state.showHistory) {\n        this.getHistory();\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, this.state.notification.is ? React.createElement(Alert, {\n        variant: this.state.notification.type,\n        dismissible: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, \" \", React.createElement(Alert.Heading, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, this.state.notification.header), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, this.state.notification.message)) : null, React.createElement(Card, {\n        className: \"text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, React.createElement(Card.Header, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, \"Package Tracking\"), React.createElement(Card.Body, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, React.createElement(Card.Title, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, \"Package History\"), this.state.showHistory ? React.createElement(Table, {\n        style: tableStyle,\n        striped: true,\n        hover: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, React.createElement(\"thead\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, \"Time\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, \"Location\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, \"Status\"))), React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, this.state.history.map(function (event) {\n        return _this2.makeTR(event, event.id);\n      }))) : React.createElement(Form, {\n        style: formStyle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, React.createElement(Form.Group, {\n        controlID: \"formGroupTracking\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, React.createElement(Form.Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, \" Enter your package ID. \"), React.createElement(Form.Control, {\n        style: {\n          textAlign: 'center'\n        },\n        size: \"lg\",\n        placeholder: \"123\",\n        value: this.state.packageID,\n        onChange: this.handlePackageID,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }), React.createElement(Button, {\n        size: \"lg\",\n        style: {\n          marginTop: '4%'\n        },\n        onClick: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, \" Submit \"))))));\n    }\n  }]);\n\n  return Tracking;\n}(React.Component);\n\nvar tableStyle = {\n  margin: '0 auto',\n  textAlign: \"center\"\n};\nvar h3Style = {\n  marginTop: '2.5%'\n};\nvar formStyle = {\n  width: '40%',\n  margin: '0 auto',\n  textAlign: 'center'\n};\nexport default Tracking;","map":{"version":3,"sources":["/home/cash/Documents/PostOffice/Frontend-React/src/containers/tracking/index.js"],"names":["React","Button","Form","Col","Card","Table","List","apiPost","Alert","Tracking","props","getHistory","state","packageID","then","resp","history","setState","showHistory","notification","is","message","type","header","catch","error","handlePackageID","event","target","value","handleSubmit","console","log","makeTR","e","id","timeOfEvent","locationOfEvent","eventType","location","hash","substr","undefined","bind","tableStyle","map","formStyle","textAlign","marginTop","Component","margin","h3Style","width"],"mappings":"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","sourcesContent":["import React from 'react'\nimport Button from 'react-bootstrap/Button'\nimport Form from 'react-bootstrap/Form'\nimport Col from 'react-bootstrap/Col'\nimport Card from 'react-bootstrap/Card'\nimport Table from 'react-bootstrap/Table'\nimport { List } from 'immutable'\nimport { apiPost } from '../../utils/api'\nimport Alert from 'react-bootstrap/Alert';\n\n\nclass Tracking extends React.Component {\n  constructor(props) {\n    super(props);\n    console.log(props.location);\n    this.state = {\n      notification: { is: false, message: '', type: '', header: '' },\n      packageID: props.location.hash ? props.location.hash.substr(1) : undefined,\n      history: List([]),\n      showHistory: !!props.location.hash,\n    };\n\n    this.makeTR = this.makeTR.bind(this);\n    this.getHistory = this.getHistory.bind(this);\n    this.handlePackageID = this.handlePackageID.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  componentDidMount() {\n    if (this.state.showHistory) {\n      this.getHistory()\n    }\n  }\n\n  getHistory = () => {\n    if (this.state.packageID) {\n      apiPost('/package/history', { packageID: this.state.packageID })\n        .then(resp => {\n          if (resp.history) {\n            this.setState({ history: List(resp.history), showHistory: true })\n          } else {\n            this.setState({ notification: { is: true, message: 'Package does not have a history.', type: 'warning', header: 'Warning!' } })\n          }\n        })\n        .catch(error => {\n          this.setState({ notification: { is: true, message: 'Cannot get package history.', type: 'danger', header: 'Error!' } })\n        })\n    }\n  };\n\n  handlePackageID = (event) => {\n    this.setState({ packageID: event.target.value });\n  };\n\n  handleSubmit = () => {\n    console.log(this.state.packageID);\n    if (this.state.packageID) {\n      this.getHistory()\n    }\n  };\n\n  makeTR = (e, id) => {\n    return (\n      <React.Fragment key={id}>\n        <tr>\n          <td> { e.timeOfEvent } </td>\n          <td> { e.locationOfEvent } </td>\n          <td> { e.eventType } </td>\n        </tr>\n      </React.Fragment>)\n  };\n\n  render() {\n    return (\n      <div>\n        { this.state.notification.is ? (<Alert variant={this.state.notification.type} dismissible> <Alert.Heading>{ this.state.notification.header }</Alert.Heading><p>{ this.state.notification.message }</p></Alert>): null }\n        <Card className=\"text-center\">\n        <Card.Header>Package Tracking</Card.Header>\n        <Card.Body>\n          <Card.Title>Package History</Card.Title>\n          { this.state.showHistory ?\n            <Table style={tableStyle} striped hover>\n                <thead>\n                  <tr>\n                    <th>Time</th>\n                    <th>Location</th>\n                    <th>Status</th>\n                  </tr>\n              </thead>\n              <tbody>\n          { this.state.history.map((event) => { return this.makeTR(event, event.id) }) }\n          </tbody>\n            </Table>\n            : (\n              <Form style={formStyle}>\n                <Form.Group controlID='formGroupTracking'>\n                  <Form.Label> Enter your package ID. </Form.Label>\n                  <Form.Control style={{ textAlign: 'center' }} size='lg' placeholder='123' value={this.state.packageID} onChange={this.handlePackageID}  />\n                  <Button size='lg' style={{marginTop: '4%'}} onClick={this.handleSubmit} > Submit </Button>\n                </Form.Group>\n              </Form>) }\n        </Card.Body>\n      </Card>\n      </div>\n    )\n    }\n}\n\nconst tableStyle = {\n  margin: '0 auto',\n  textAlign: \"center\",\n};\n\nconst h3Style = {\n  marginTop: '2.5%',\n};\n\nconst formStyle = {\n  width: '40%',\n  margin: '0 auto',\n  textAlign: 'center',\n};\n\nexport default Tracking;"]},"metadata":{},"sourceType":"module"}