{"ast":null,"code":"import _classCallCheck from \"/home/cash/Documents/PostOffice/Frontend-React/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/cash/Documents/PostOffice/Frontend-React/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/cash/Documents/PostOffice/Frontend-React/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/cash/Documents/PostOffice/Frontend-React/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"/home/cash/Documents/PostOffice/Frontend-React/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/home/cash/Documents/PostOffice/Frontend-React/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/cash/Documents/PostOffice/Frontend-React/src/containers/customerHome/index.js\";\nimport React from 'react';\nimport Table from 'react-bootstrap/Table';\nimport Cookie from 'js-cookie';\nimport Button from 'react-bootstrap/Button';\nimport Modal from 'react-bootstrap/Modal';\nimport Form from 'react-bootstrap/Form';\nimport Col from 'react-bootstrap/Col';\nimport Card from 'react-bootstrap/Card';\nimport { List } from 'immutable';\nimport { apiPost } from '../../utils/api';\nimport Alert from \"react-bootstrap/Alert\";\n\nvar CustomerHome =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(CustomerHome, _React$Component);\n\n  function CustomerHome(props) {\n    var _this;\n\n    _classCallCheck(this, CustomerHome);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(CustomerHome).call(this, props));\n\n    _this.openNewPackage = function () {\n      _this.setState({\n        newPackageViewStatus: !_this.state.newPackageViewStatus\n      });\n    };\n\n    _this.newPackageSubmit = function () {\n      if (_this.props.newPackEmail && _this.props.newPackAddress && _this.props.newPackWeight) {\n        apiPost('/customer/packages', {\n          recipientEmail: _this.props.newPackEmail,\n          recipientAddress: _this.props.newPackAddress,\n          weight: _this.props.newPackWeight,\n          senderID: id\n        }).then(function (resp) {\n          if (resp.success && resp.success === true) {\n            window.location.reload();\n          }\n        }).catch(function (error) {\n          _this.setState({\n            notification: {\n              is: true,\n              message: 'Could not make new package.',\n              type: 'danger',\n              header: 'Error!'\n            }\n          });\n        });\n      }\n    };\n\n    _this.makeTR = function (p, id) {\n      return React.createElement(React.Fragment, {\n        key: id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, \" \", p.id, \" \"), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, \" \", p.senderEmail, \" \"), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, \" \", p.recipientEmail, \" \"), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, \" \", p.senderAddress, \" \"), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, \" \", p.recipientAddress, \" \"), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, \" \", p.deliveryStatus, \" \"), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, \" \", p.packageWeight, \" \")));\n    };\n\n    _this.handleNewPackageEmail = function (event) {\n      _this.setState({\n        newPackEmail: event.target.value\n      });\n    };\n\n    _this.handleNewPackageAddress = function (event) {\n      _this.setState({\n        newPackAddress: event.target.value\n      });\n    };\n\n    _this.handleNewPackageWeight = function (event) {\n      _this.setState({\n        newPackWeight: event.target.value\n      });\n    };\n\n    _this.getPackages = function () {\n      apiPost('/customer/packages', {\n        id: _this.state.id\n      }).then(function (resp) {\n        _this.setState({\n          packages: List(resp.packages)\n        });\n      }).catch(function (error) {\n        _this.setState({\n          notification: {\n            is: true,\n            message: 'Could not get packages.',\n            type: 'danger',\n            header: 'Error!'\n          }\n        });\n      });\n    };\n\n    _this.getIncomingPackages = function () {\n      apiPost('/customer/incomingpackages', {\n        id: _this.state.id\n      }).then(function (resp) {\n        _this.setState({\n          inPackages: List(resp.packages)\n        });\n      }).catch(function (error) {\n        _this.setState({\n          notification: {\n            is: true,\n            message: 'Could not get packages.',\n            type: 'danger',\n            header: 'Error!'\n          }\n        });\n      });\n    };\n\n    _this.state = {\n      id: Cookie.get('id'),\n      packages: List([]),\n      inPackages: List([]),\n      newPackageViewStatus: false,\n      error: {\n        is: false,\n        msg: ''\n      },\n      newPackEmail: '',\n      newPackAddress: '',\n      newPackWeight: 0,\n      notification: {\n        is: false,\n        message: '',\n        type: '',\n        header: ''\n      }\n    };\n    _this.openNewPackage = _this.openNewPackage.bind(_assertThisInitialized(_this));\n    _this.makeTR = _this.makeTR.bind(_assertThisInitialized(_this));\n    _this.newPackageSubmit = _this.newPackageSubmit.bind(_assertThisInitialized(_this));\n    _this.handleNewPackageEmail = _this.handleNewPackageEmail.bind(_assertThisInitialized(_this));\n    _this.handleNewPackageAddress = _this.handleNewPackageAddress.bind(_assertThisInitialized(_this));\n    _this.handleNewPackageWeight = _this.handleNewPackageWeight.bind(_assertThisInitialized(_this));\n    _this.getPackages = _this.getPackages.bind(_assertThisInitialized(_this));\n    _this.getIncomingPackages = _this.getIncomingPackages.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(CustomerHome, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getPackages();\n      this.getIncomingPackages();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, this.state.notification.is ? React.createElement(Alert, {\n        variant: this.state.notification.type,\n        dismissible: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, \" \", React.createElement(Alert.Heading, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, this.state.notification.header), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, this.state.notification.message)) : null, React.createElement(Modal, {\n        show: this.state.newPackageViewStatus,\n        onHide: this.openNewPackage,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, React.createElement(Modal.Header, {\n        closeButton: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, React.createElement(Modal.Title, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, \"Ship a New Package\")), React.createElement(Modal.Body, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, React.createElement(Form, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, React.createElement(Form.Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, React.createElement(Form.Group, {\n        as: Col,\n        controlId: \"formGridEmail\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, React.createElement(Form.Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, \" Recipient Email \"), React.createElement(Form.Control, {\n        placeholder: \"example@email.com\",\n        value: this.state.newPackEmail,\n        onChange: this.handleNewPackageEmail,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      })), React.createElement(Form.Group, {\n        as: Col,\n        controlId: \"formGridAddress\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, React.createElement(Form.Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, \" Recipient Address \"), React.createElement(Form.Control, {\n        placeholder: \"123 Main St.\",\n        value: this.state.newPackAddress,\n        onChange: this.handleNewPackageAddress,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }))), React.createElement(Form.Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, React.createElement(Form.Group, {\n        as: Col,\n        controlId: \"formGridWeight\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, React.createElement(Form.Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, \" Package Weight \"), React.createElement(Form.Control, {\n        placeholder: \"1.0\",\n        value: this.state.newPackWeight,\n        onChange: this.handleNewPackageWeight,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }))))), React.createElement(Modal.Footer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, React.createElement(Button, {\n        variant: \"secondary\",\n        onClick: this.openNewPackage,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, \"Close\"), React.createElement(Button, {\n        variant: \"primary\",\n        onClick: this.newPackageSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }, \"Save Changes\"))), React.createElement(Card, {\n        className: \"text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }, React.createElement(Card.Header, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, \"Control Center\"), React.createElement(Card.Body, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }, React.createElement(Card.Title, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }, \"Customer Actions\"), React.createElement(Button, {\n        size: \"lg\",\n        variant: \"success\",\n        onClick: this.openNewPackage,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }, \"Ship a new package\"))), React.createElement(\"div\", {\n        style: {\n          marginTop: '2%'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, \"Your Packages:\")), React.createElement(Table, {\n        style: tableStyle,\n        striped: true,\n        bordered: true,\n        hover: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }, React.createElement(\"thead\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      }, \"#\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      }, \"Sender Email\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }, \"Recipient Email\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }, \"Sender Address\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }, \"Recipient Address\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      }, \"Status\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168\n        },\n        __self: this\n      }, \"Weight\"))), React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      }, this.state.packages.map(function (pack) {\n        return _this2.makeTR(pack, pack.id);\n      }))), React.createElement(\"div\", {\n        style: {\n          marginTop: '2%'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177\n        },\n        __self: this\n      }, \"Packages en-route to you:\")), React.createElement(Table, {\n        style: tableStyle,\n        striped: true,\n        bordered: true,\n        hover: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179\n        },\n        __self: this\n      }, React.createElement(\"thead\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        },\n        __self: this\n      }, \"#\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183\n        },\n        __self: this\n      }, \"Sender Email\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184\n        },\n        __self: this\n      }, \"Recipient Email\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185\n        },\n        __self: this\n      }, \"Sender Address\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186\n        },\n        __self: this\n      }, \"Recipient Address\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187\n        },\n        __self: this\n      }, \"Status Address\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188\n        },\n        __self: this\n      }, \"Weight\"))), React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      }, this.state.inPackages.map(function (pack) {\n        return _this2.makeTR(pack, pack.id);\n      }))));\n    }\n  }]);\n\n  return CustomerHome;\n}(React.Component);\n\nvar tableStyle = {\n  margin: '0 auto',\n  marginTop: '3%',\n  textAlign: \"center\"\n};\nexport default CustomerHome;","map":{"version":3,"sources":["/home/cash/Documents/PostOffice/Frontend-React/src/containers/customerHome/index.js"],"names":["React","Table","Cookie","Button","Modal","Form","Col","Card","List","apiPost","Alert","CustomerHome","props","openNewPackage","setState","newPackageViewStatus","state","newPackageSubmit","newPackEmail","newPackAddress","newPackWeight","recipientEmail","recipientAddress","weight","senderID","id","then","resp","success","window","location","reload","catch","error","notification","is","message","type","header","makeTR","p","senderEmail","senderAddress","deliveryStatus","packageWeight","handleNewPackageEmail","event","target","value","handleNewPackageAddress","handleNewPackageWeight","getPackages","packages","getIncomingPackages","inPackages","get","msg","bind","marginTop","tableStyle","map","pack","Component","margin","textAlign"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport Table from 'react-bootstrap/Table'\r\nimport Cookie from 'js-cookie'\r\nimport Button from 'react-bootstrap/Button'\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport Form from 'react-bootstrap/Form'\r\nimport Col from 'react-bootstrap/Col'\r\nimport Card from 'react-bootstrap/Card'\r\nimport { List } from 'immutable'\r\nimport {apiPost} from '../../utils/api';\r\nimport Alert from \"react-bootstrap/Alert\";\r\n\r\nclass CustomerHome extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      id: Cookie.get('id'),\r\n      packages: List([]),\r\n      inPackages: List([]),\r\n      newPackageViewStatus: false,\r\n      error: { is: false, msg: '' },\r\n      newPackEmail: '',\r\n      newPackAddress: '',\r\n      newPackWeight: 0,\r\n      notification: { is: false, message: '', type: '', header: '' }\r\n};\r\n    this.openNewPackage = this.openNewPackage.bind(this);\r\n    this.makeTR = this.makeTR.bind(this);\r\n    this.newPackageSubmit = this.newPackageSubmit.bind(this);\r\n    this.handleNewPackageEmail = this.handleNewPackageEmail.bind(this);\r\n    this.handleNewPackageAddress = this.handleNewPackageAddress.bind(this);\r\n    this.handleNewPackageWeight = this.handleNewPackageWeight.bind(this);\r\n    this.getPackages = this.getPackages.bind(this);\r\n    this.getIncomingPackages = this.getIncomingPackages.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getPackages();\r\n    this.getIncomingPackages();\r\n  }\r\n\r\n  openNewPackage = () => {\r\n    this.setState({ newPackageViewStatus: !this.state.newPackageViewStatus })\r\n  };\r\n\r\n  newPackageSubmit = () => {\r\n    if (this.props.newPackEmail && this.props.newPackAddress && this.props.newPackWeight) {\r\n      apiPost('/customer/packages', {\r\n        recipientEmail: this.props.newPackEmail,\r\n        recipientAddress: this.props.newPackAddress,\r\n        weight: this.props.newPackWeight,\r\n        senderID: id\r\n      })\r\n        .then(resp => {\r\n          if (resp.success && resp.success === true) {\r\n            window.location.reload();\r\n          }\r\n        })\r\n        .catch(error => {\r\n          this.setState({ notification: { is: true, message: 'Could not make new package.', type: 'danger', header: 'Error!' } })\r\n        })\r\n    }\r\n  };\r\n\r\n  makeTR = (p, id) => {\r\n    return (\r\n      <React.Fragment key={id}>\r\n        <tr>\r\n          <td> { p.id } </td>\r\n          <td> { p.senderEmail } </td>\r\n          <td> { p.recipientEmail } </td>\r\n          <td> { p.senderAddress } </td>\r\n          <td> { p.recipientAddress } </td>\r\n          <td> { p.deliveryStatus } </td>\r\n          <td> { p.packageWeight } </td>\r\n        </tr>\r\n      </React.Fragment>)\r\n  };\r\n\r\n  handleNewPackageEmail = (event) => {\r\n    this.setState({ newPackEmail: event.target.value })\r\n  };\r\n\r\n  handleNewPackageAddress = (event) => {\r\n    this.setState({ newPackAddress: event.target.value })\r\n  };\r\n\r\n  handleNewPackageWeight = (event) => {\r\n    this.setState({ newPackWeight: event.target.value })\r\n  };\r\n\r\n  getPackages = () => {\r\n    apiPost('/customer/packages', { id: this.state.id })\r\n      .then(resp => {\r\n        this.setState({ packages: List(resp.packages) })\r\n      })\r\n      .catch(error => {\r\n        this.setState({ notification: { is: true, message: 'Could not get packages.', type: 'danger', header: 'Error!' } })\r\n      })\r\n  };\r\n\r\n  getIncomingPackages = () => {\r\n    apiPost('/customer/incomingpackages', { id: this.state.id })\r\n      .then(resp => {\r\n        this.setState({ inPackages: List(resp.packages) })\r\n      })\r\n      .catch(error => {\r\n        this.setState({ notification: { is: true, message: 'Could not get packages.', type: 'danger', header: 'Error!' } })\r\n      })\r\n  };\r\n\r\n  render() {\r\n    return <div>\r\n      { this.state.notification.is ? (<Alert variant={this.state.notification.type} dismissible> <Alert.Heading>{ this.state.notification.header }</Alert.Heading><p>{ this.state.notification.message }</p></Alert>): null }\r\n      <Modal show={this.state.newPackageViewStatus} onHide={this.openNewPackage}>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Ship a New Package</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <Form>\r\n            <Form.Row>\r\n              <Form.Group as={Col} controlId='formGridEmail'>\r\n                <Form.Label> Recipient Email </Form.Label>\r\n                <Form.Control placeholder='example@email.com' value={this.state.newPackEmail} onChange={this.handleNewPackageEmail} />\r\n              </Form.Group>\r\n              <Form.Group as={Col} controlId='formGridAddress'>\r\n                <Form.Label> Recipient Address </Form.Label>\r\n                <Form.Control placeholder='123 Main St.' value={this.state.newPackAddress} onChange={this.handleNewPackageAddress} />\r\n              </Form.Group>\r\n            </Form.Row>\r\n            <Form.Row>\r\n              <Form.Group as={Col} controlId='formGridWeight'>\r\n                <Form.Label> Package Weight </Form.Label>\r\n                <Form.Control placeholder='1.0' value={this.state.newPackWeight} onChange={this.handleNewPackageWeight} />\r\n              </Form.Group>\r\n            </Form.Row>\r\n          </Form>\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <Button variant=\"secondary\" onClick={this.openNewPackage}>\r\n            Close\r\n          </Button>\r\n          <Button variant=\"primary\" onClick={this.newPackageSubmit}>\r\n            Save Changes\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n      <Card className=\"text-center\">\r\n        <Card.Header>Control Center</Card.Header>\r\n        <Card.Body>\r\n          <Card.Title>Customer Actions</Card.Title>\r\n          <Button size='lg' variant='success' onClick={this.openNewPackage}>Ship a new package</Button>\r\n        </Card.Body>\r\n      </Card>\r\n\r\n      <div style={{ marginTop: '2%' }}>\r\n        <h1>Your Packages:</h1>\r\n      </div>\r\n    <Table style={tableStyle} striped bordered hover>\r\n    <thead>\r\n      <tr>\r\n        <th>#</th>\r\n        <th>Sender Email</th>\r\n        <th>Recipient Email</th>\r\n        <th>Sender Address</th>\r\n        <th>Recipient Address</th>\r\n        <th>Status</th>\r\n        <th>Weight</th>\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n    { this.state.packages.map((pack) => { return this.makeTR(pack, pack.id) }) }\r\n    </tbody>\r\n    </Table>\r\n\r\n    <div style={{ marginTop: '2%' }}>\r\n      <h1>Packages en-route to you:</h1>\r\n    </div>\r\n      <Table style={tableStyle} striped bordered hover>\r\n    <thead>\r\n      <tr>\r\n        <th>#</th>\r\n        <th>Sender Email</th>\r\n        <th>Recipient Email</th>\r\n        <th>Sender Address</th>\r\n        <th>Recipient Address</th>\r\n        <th>Status Address</th>\r\n        <th>Weight</th>\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n    { this.state.inPackages.map((pack) => { return this.makeTR(pack, pack.id) }) }\r\n    </tbody>\r\n    </Table>\r\n</div>\r\n    }\r\n}\r\n\r\nconst tableStyle = {\r\n  margin: '0 auto',\r\n  marginTop: '3%',\r\n  textAlign: \"center\",\r\n};\r\n\r\n\r\nexport default CustomerHome;"]},"metadata":{},"sourceType":"module"}