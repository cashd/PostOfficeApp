{"ast":null,"code":"var _jsxFileName = \"/home/cash/Documents/PostOffice/Frontend-React/src/containers/triggers/index.js\";\nimport React from 'react';\n\nvar Triggers = function Triggers() {\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 4\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 5\n    },\n    __self: this\n  }, '/*Trigger for package table, BEFORE INSERT, or upon acceptance of a package/letter, the delivery_status \\n' + '  of \\'Label Created\\' will populate the date_received field in package with the current server time */\\n' + '\\n' + 'CREATE DEFINER=`team9`@`%` TRIGGER `PostOffice`.`package_BEFORE_INSERT` BEFORE INSERT ON `package` \\n' + 'FOR EACH ROW\\n' + '\\n' + 'BEGIN\\n' + ' \\n' + ' if(New.delivery_status = \\'Label Created\\') then\\n' + '\\n' + '  set NEW.date_received = NOW(); -- Correction that can be applied in case we want Houston local time displayed - INTERVAL 5 HOUR;\\n' + '\\n' + ' end if;\\n' + '\\n' + 'END\\n' + '\\n' + '\\n' + '\\n' + '\\n' + '\\n' + '\\n' + '/*Trigger for package table, BEFORE UPDATE, or upon delivery of a package/letter, the delivery_status \\n' + '  of \\'Delivered\\' will populate the date_received field in package with the current server time */\\n' + '\\n' + 'CREATE DEFINER=`team9`@`%` TRIGGER `PostOffice`.`package_BEFORE_UPDATE` BEFORE UPDATE ON `package` FOR EACH ROW\\n' + '\\n' + 'BEGIN\\n' + '\\n' + ' if(New.delivery_status = \\'Delivered\\') then\\n' + '\\n' + '  set NEW.date_delivered = NOW(); -- Correction that can be applied in case we want Houston time displayed - INTERVAL 5 HOUR;\\n' + '\\n' + ' end if;\\n' + '\\n' + 'END\\n' + '\\n' + '\\n' + '\\n' + '\\n' + '\\n' + '\\n' + '/*Trigger for tracking table, BEFORE INSERT, or upon creation. One type of trigger: when a tracking event_type is \\n' + '  entered, the date the package arrived and received will also be set in the package entity (delivery_status). \\n' + '  A second type of trigger: when all the event_types are entered in the tracking entity, the time_of_event will \\n' + '  be populated with the current datetime */\\n' + '\\n' + 'CREATE DEFINER=`team9`@`%` TRIGGER `PostOffice`.`tracking_BEFORE_INSERT` BEFORE INSERT ON `tracking` FOR EACH ROW\\n' + '\\n' + 'BEGIN\\n' + '--Trigger One type: Upon creation of an event_type in tracking, the package table/delivery_status will be updated\\n' + ' \\n' + 'if(new.event_type = \\'Label Created\\')then\\n' + '\\n' + '   update package\\n' + '  \\n' + '    SET package.delivery_status =\\'Label Created\\'\\n' + '  \\n' + '   where new.package_fk_id = package.package_id;\\n' + ' \\n' + '  end if;\\n' + '\\n' + '\\n' + '--Trigger Two type: Upon creation of an event_type, the tracking table/time_of_event will be populated with current server time\\n' + ' if(new.event_type = \\'Label Created\\')then\\n' + '  \\n' + '   set NEW.time_of_event = NOW(); -- correction that can be applied in case we want to display Houston time - INTERVAL 5 HOUR;\\n' + ' \\n' + ' end if;\\n' + ' \\n' + '\\n' + '\\n' + ' if(new.event_type = \\'Dropped Off\\')then\\n' + '  \\n' + '   update package\\n' + '  \\n' + '    SET package.delivery_status =\\'Drop Off\\'\\n' + '  \\n' + '   where new.package_fk_id = package.package_id;\\n' + ' \\n' + '  end if;\\n' + '\\n' + '\\n' + ' if(new.event_type = \\'Dropped Off\\')then\\n' + '  \\n' + '   set NEW.time_of_event = NOW(); -- - INTERVAL 5 HOUR;\\n' + ' \\n' + ' end if;\\n' + '  \\n' + '\\n' + '\\n' + ' if(new.event_type = \\'Arrived to Facility\\')then\\n' + '  \\n' + '   update package\\n' + '  \\n' + '    SET package.delivery_status =\\'In Sorting\\'\\n' + '  \\n' + '   where new.package_fk_id = package.package_id;\\n' + ' \\n' + ' end if;\\n' + ' \\n' + '\\n' + ' if(new.event_type = \\'Arrived to Facility\\')then\\n' + '  \\n' + '   set NEW.time_of_event = NOW(); -- - INTERVAL 5 HOUR;\\n' + ' \\n' + ' end if;\\n' + ' \\n' + ' \\n' + '\\n' + ' if(new.event_type = \\'Left Facility\\')then\\n' + '   \\n' + '   update package\\n' + '   \\n' + '    set package.delivery_status = \\'In Transit\\'\\n' + '    \\n' + '   where new.package_fk_id = package.package_id;\\n' + ' \\n' + ' end if;\\n' + ' \\n' + '\\n' + ' if(new.event_type = \\'Left Facility\\')then\\n' + '  \\n' + '   set NEW.time_of_event = NOW(); -- - INTERVAL 5 HOUR;\\n' + ' \\n' + ' end if;\\n' + '  \\n' + ' \\n' + '\\n' + ' if(new.event_type = \\'In Vehicle\\')then\\n' + '   \\n' + '   update package\\n' + '    \\n' + '    set  package.delivery_status = \\'In Transit\\'\\n' + '   \\n' + '   where new.package_fk_id = package.package_id;\\n' + ' \\n' + ' end if;\\n' + ' \\n' + ' \\n' + '\\n' + ' if(new.event_type = \\'Off Vehicle\\')then\\n' + '  \\n' + '   set NEW.time_of_event = NOW(); -- - INTERVAL 5 HOUR;\\n' + ' \\n' + ' end if;\\n' + ' \\n' + ' \\n' + '\\n' + ' if(new.event_type = \\'Out for Delivery\\')then\\n' + '   \\n' + '   update package\\n' + '   \\n' + '    set package.delivery_status = \\'Out for Delivery\\'\\n' + '   \\n' + '   where new.package_fk_id = package.package_id;\\n' + ' \\n' + ' end if;\\n' + ' \\n' + '\\n' + ' if(new.event_type = \\'Out for Delivery\\')then\\n' + '  \\n' + '   set NEW.time_of_event = NOW(); -- - INTERVAL 5 HOUR;\\n' + ' \\n' + ' end if;\\n' + '\\n' + ' \\n' + '\\n' + ' if(NEW.event_type = \\'Delivered\\')then\\n' + ' \\n' + '   update package SET package.delivery_status = \\'Delivered\\'\\n' + '    \\n' + '   WHERE NEW.package_fk_id = package.package_id;\\n' + ' \\n' + ' end if;\\n' + ' \\n' + '\\n' + ' if(new.event_type = \\'Delivered\\')then\\n' + '  \\n' + '   set NEW.time_of_event = NOW(); -- - INTERVAL 5 HOUR;\\n' + ' \\n' + ' end if;\\n' + '\\n' + '\\n' + 'END\\n' + '\\n' + '\\n' + '\\n' + '\\n' + '\\n' + '/*Trigger for tracking table, BEFORE UPDATE, or when tracking event is updated. One type of trigger: when a \\n' + '  tracking event_type is entered, the package/delivery_status will be updated to match the tracking/event_type. \\n' + '  A second type of trigger: when all the event_types are updated in the tracking entity, the time_of_event will \\n' + '  be populated with the current datetime */\\n' + '\\n' + 'CREATE DEFINER=`team9`@`%` TRIGGER `PostOffice`.`tracking_BEFORE_UPDATE` BEFORE UPDATE ON `tracking` FOR EACH ROW\\n' + '\\n' + 'BEGIN\\n' + '--Trigger One type: Upon update of an event_type in tracking, the package table/delivery_status will be updated\\n' + ' \\n' + 'if(new.event_type = \\'Label Created\\')then\\n' + '  \\n' + '   update package\\n' + '  \\n' + '    SET package.delivery_status =\\'Label Created\\'\\n' + '  \\n' + '   where new.package_fk_id = package.package_id;\\n' + ' \\n' + ' end if;\\n' + '\\n' + '\\n' + '--Trigger Two type: Upon update of tracking event_type, the tracking table/time_of_event will be populated with current server time\\n' + ' if(new.event_type = \\'Label Created\\')then\\n' + '  \\n' + '   set NEW.time_of_event = NOW(); -- Correction that can be applied in case we want to display Houston time - INTERVAL 5 HOUR;\\n' + ' \\n' + ' end if;\\n' + ' \\n' + '\\n' + '\\n' + ' if(new.event_type = \\'Dropped Off\\')then\\n' + '  \\n' + '   update package\\n' + '  \\n' + '    SET package.delivery_status =\\'Drop Off\\'\\n' + '  \\n' + '   where new.package_fk_id = package.package_id;\\n' + ' \\n' + ' end if;\\n' + '\\n' + '\\n' + ' if(new.event_type = \\'Dropped Off\\')then\\n' + '  \\n' + '   set NEW.time_of_event = NOW(); -- - INTERVAL 5 HOUR;\\n' + ' \\n' + ' end if;\\n' + '  \\n' + '\\n' + ' if(new.event_type = \\'Arrived to Facility\\')then\\n' + '  \\n' + '   update package\\n' + '  \\n' + '    SET package.delivery_status =\\'In Sorting\\'\\n' + '  \\n' + '   where new.package_fk_id = package.package_id;\\n' + ' \\n' + ' end if;\\n' + ' \\n' + '\\n' + ' if(new.event_type = \\'Arrived to Facility\\')then\\n' + '  \\n' + '   set NEW.time_of_event = NOW(); -- - INTERVAL 5 HOUR;\\n' + ' \\n' + ' end if;\\n' + '   \\n' + ' \\n' + '\\n' + ' if(new.event_type = \\'Left Facility\\') then\\n' + '   \\n' + '   update package\\n' + '   \\n' + '    set package.delivery_status = \\'In Transit\\'\\n' + '   \\n' + '   where new.package_fk_id = package.package_id;\\n' + ' \\n' + ' end if;\\n' + ' \\n' + '\\n' + ' if(new.event_type = \\'Left Facility\\')then\\n' + '  \\n' + '   set NEW.time_of_event = NOW(); -- - INTERVAL 5 HOUR;\\n' + ' \\n' + ' end if;\\n' + ' \\n' + ' \\n' + '\\n' + ' if(new.event_type = \\'In Vehicle\\')then\\n' + '   \\n' + '   update package\\n' + '    \\n' + '    set package.delivery_status = \\'In Transit\\'\\n' + '   \\n' + '   where new.package_fk_id = package.package_id;\\n' + ' \\n' + ' end if;\\n' + ' \\n' + ' \\n' + '\\n' + ' if(new.event_type = \\'Off Vehicle\\')then\\n' + '  \\n' + '   set NEW.time_of_event = NOW(); -- - INTERVAL 5 HOUR;\\n' + ' \\n' + ' end if;\\n' + ' \\n' + ' \\n' + '\\n' + ' if(new.event_type = \\'Out for Delivery\\') then\\n' + '   \\n' + '   update package\\n' + '   \\n' + '    set package.delivery_status = \\'Out for Delivery\\'\\n' + '   \\n' + '   where new.package_fk_id = package.package_id;\\n' + ' \\n' + ' end if;\\n' + ' \\n' + '\\n' + ' if(new.event_type = \\'Out for Delivery\\')then\\n' + '  \\n' + '   set NEW.time_of_event = NOW(); -- - INTERVAL 5 HOUR;\\n' + ' \\n' + ' end if;\\n' + '  \\n' + ' \\n' + '\\n' + ' if(NEW.event_type = \\'Delivered\\') then\\n' + ' \\n' + '   update package \\n' + '   \\n' + '    SET package.delivery_status = \\'Delivered\\'\\n' + '    \\n' + '   WHERE NEW.package_fk_id = package.package_id;\\n' + ' \\n' + ' end if;\\n' + ' \\n' + '\\n' + ' if(new.event_type = \\'Delivered\\')then\\n' + '  \\n' + '   set NEW.time_of_event = NOW(); -- - INTERVAL 5 HOUR;\\n' + ' \\n' + ' end if;\\n' + '\\n' + '\\n' + 'END\\n' + '\\n' + '\\n' + '\\n' + '\\n' + '\\n' + '\\n' + '/*Trigger that will not allow an employee that is under 18 to be entered into employee table*/\\n' + 'CREATE DEFINER=`team9`@`%` TRIGGER `PostOffice`.`employee_BEFORE_INSERT` \\n' + 'BEFORE INSERT ON `employee` FOR EACH ROW\\n' + '\\n' + 'BEGIN\\n' + '\\n' + 'if(timestampdiff(YEAR, NEW.employee_date_birth, CURDATE()) < 18) then\\n' + '  \\n' + '  signal SQLSTATE \\'45000\\' SET message_text = \\'Employee is under 18- please re- enter\\';\\n' + '\\n' + 'end if;\\n' + '\\n' + 'END'));\n};\n\nexport default Triggers;","map":{"version":3,"sources":["/home/cash/Documents/PostOffice/Frontend-React/src/containers/triggers/index.js"],"names":["React","Triggers"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;;AAEA,IAAMC,QAAQ,GAAG,SAAXA,QAAW;AAAA,SACf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG,+GACD,2GADC,GAED,IAFC,GAGD,uGAHC,GAID,gBAJC,GAKD,IALC,GAMD,SANC,GAOD,KAPC,GAQD,qDARC,GASD,IATC,GAUD,sIAVC,GAWD,IAXC,GAYD,YAZC,GAaD,IAbC,GAcD,OAdC,GAeD,IAfC,GAgBD,IAhBC,GAiBD,IAjBC,GAkBD,IAlBC,GAmBD,IAnBC,GAoBD,IApBC,GAqBD,0GArBC,GAsBD,uGAtBC,GAuBD,IAvBC,GAwBD,mHAxBC,GAyBD,IAzBC,GA0BD,SA1BC,GA2BD,IA3BC,GA4BD,iDA5BC,GA6BD,IA7BC,GA8BD,iIA9BC,GA+BD,IA/BC,GAgCD,YAhCC,GAiCD,IAjCC,GAkCD,OAlCC,GAmCD,IAnCC,GAoCD,IApCC,GAqCD,IArCC,GAsCD,IAtCC,GAuCD,IAvCC,GAwCD,IAxCC,GAyCD,sHAzCC,GA0CD,mHA1CC,GA2CD,oHA3CC,GA4CD,+CA5CC,GA6CD,IA7CC,GA8CD,qHA9CC,GA+CD,IA/CC,GAgDD,SAhDC,GAiDD,qHAjDC,GAkDD,KAlDC,GAmDD,8CAnDC,GAoDD,IApDC,GAqDD,qBArDC,GAsDD,MAtDC,GAuDD,sDAvDC,GAwDD,MAxDC,GAyDD,oDAzDC,GA0DD,KA1DC,GA2DD,aA3DC,GA4DD,IA5DC,GA6DD,IA7DC,GA8DD,mIA9DC,GA+DD,+CA/DC,GAgED,MAhEC,GAiED,kIAjEC,GAkED,KAlEC,GAmED,YAnEC,GAoED,KApEC,GAqED,IArEC,GAsED,IAtEC,GAuED,6CAvEC,GAwED,MAxEC,GAyED,qBAzEC,GA0ED,MA1EC,GA2ED,iDA3EC,GA4ED,MA5EC,GA6ED,oDA7EC,GA8ED,KA9EC,GA+ED,aA/EC,GAgFD,IAhFC,GAiFD,IAjFC,GAkFD,6CAlFC,GAmFD,MAnFC,GAoFD,2DApFC,GAqFD,KArFC,GAsFD,YAtFC,GAuFD,MAvFC,GAwFD,IAxFC,GAyFD,IAzFC,GA0FD,qDA1FC,GA2FD,MA3FC,GA4FD,qBA5FC,GA6FD,MA7FC,GA8FD,mDA9FC,GA+FD,MA/FC,GAgGD,oDAhGC,GAiGD,KAjGC,GAkGD,YAlGC,GAmGD,KAnGC,GAoGD,IApGC,GAqGD,qDArGC,GAsGD,MAtGC,GAuGD,2DAvGC,GAwGD,KAxGC,GAyGD,YAzGC,GA0GD,KA1GC,GA2GD,KA3GC,GA4GD,IA5GC,GA6GD,+CA7GC,GA8GD,OA9GC,GA+GD,qBA/GC,GAgHD,OAhHC,GAiHD,oDAjHC,GAkHD,QAlHC,GAmHD,oDAnHC,GAoHD,KApHC,GAqHD,YArHC,GAsHD,KAtHC,GAuHD,IAvHC,GAwHD,+CAxHC,GAyHD,MAzHC,GA0HD,2DA1HC,GA2HD,KA3HC,GA4HD,YA5HC,GA6HD,MA7HC,GA8HD,KA9HC,GA+HD,IA/HC,GAgID,4CAhIC,GAiID,OAjIC,GAkID,qBAlIC,GAmID,QAnIC,GAoID,qDApIC,GAqID,OArIC,GAsID,oDAtIC,GAuID,KAvIC,GAwID,YAxIC,GAyID,KAzIC,GA0ID,KA1IC,GA2ID,IA3IC,GA4ID,6CA5IC,GA6ID,MA7IC,GA8ID,2DA9IC,GA+ID,KA/IC,GAgJD,YAhJC,GAiJD,KAjJC,GAkJD,KAlJC,GAmJD,IAnJC,GAoJD,kDApJC,GAqJD,OArJC,GAsJD,qBAtJC,GAuJD,OAvJC,GAwJD,0DAxJC,GAyJD,OAzJC,GA0JD,oDA1JC,GA2JD,KA3JC,GA4JD,YA5JC,GA6JD,KA7JC,GA8JD,IA9JC,GA+JD,kDA/JC,GAgKD,MAhKC,GAiKD,2DAjKC,GAkKD,KAlKC,GAmKD,YAnKC,GAoKD,IApKC,GAqKD,KArKC,GAsKD,IAtKC,GAuKD,2CAvKC,GAwKD,KAxKC,GAyKD,iEAzKC,GA0KD,QA1KC,GA2KD,oDA3KC,GA4KD,KA5KC,GA6KD,YA7KC,GA8KD,KA9KC,GA+KD,IA/KC,GAgLD,2CAhLC,GAiLD,MAjLC,GAkLD,2DAlLC,GAmLD,KAnLC,GAoLD,YApLC,GAqLD,IArLC,GAsLD,IAtLC,GAuLD,OAvLC,GAwLD,IAxLC,GAyLD,IAzLC,GA0LD,IA1LC,GA2LD,IA3LC,GA4LD,IA5LC,GA6LD,gHA7LC,GA8LD,oHA9LC,GA+LD,oHA/LC,GAgMD,+CAhMC,GAiMD,IAjMC,GAkMD,qHAlMC,GAmMD,IAnMC,GAoMD,SApMC,GAqMD,mHArMC,GAsMD,KAtMC,GAuMD,8CAvMC,GAwMD,MAxMC,GAyMD,qBAzMC,GA0MD,MA1MC,GA2MD,sDA3MC,GA4MD,MA5MC,GA6MD,oDA7MC,GA8MD,KA9MC,GA+MD,YA/MC,GAgND,IAhNC,GAiND,IAjNC,GAkND,uIAlNC,GAmND,+CAnNC,GAoND,MApNC,GAqND,kIArNC,GAsND,KAtNC,GAuND,YAvNC,GAwND,KAxNC,GAyND,IAzNC,GA0ND,IA1NC,GA2ND,6CA3NC,GA4ND,MA5NC,GA6ND,qBA7NC,GA8ND,MA9NC,GA+ND,iDA/NC,GAgOD,MAhOC,GAiOD,oDAjOC,GAkOD,KAlOC,GAmOD,YAnOC,GAoOD,IApOC,GAqOD,IArOC,GAsOD,6CAtOC,GAuOD,MAvOC,GAwOD,2DAxOC,GAyOD,KAzOC,GA0OD,YA1OC,GA2OD,MA3OC,GA4OD,IA5OC,GA6OD,qDA7OC,GA8OD,MA9OC,GA+OD,qBA/OC,GAgPD,MAhPC,GAiPD,mDAjPC,GAkPD,MAlPC,GAmPD,oDAnPC,GAoPD,KApPC,GAqPD,YArPC,GAsPD,KAtPC,GAuPD,IAvPC,GAwPD,qDAxPC,GAyPD,MAzPC,GA0PD,2DA1PC,GA2PD,KA3PC,GA4PD,YA5PC,GA6PD,OA7PC,GA8PD,KA9PC,GA+PD,IA/PC,GAgQD,gDAhQC,GAiQD,OAjQC,GAkQD,qBAlQC,GAmQD,OAnQC,GAoQD,oDApQC,GAqQD,OArQC,GAsQD,oDAtQC,GAuQD,KAvQC,GAwQD,YAxQC,GAyQD,KAzQC,GA0QD,IA1QC,GA2QD,+CA3QC,GA4QD,MA5QC,GA6QD,2DA7QC,GA8QD,KA9QC,GA+QD,YA/QC,GAgRD,KAhRC,GAiRD,KAjRC,GAkRD,IAlRC,GAmRD,4CAnRC,GAoRD,OApRC,GAqRD,qBArRC,GAsRD,QAtRC,GAuRD,oDAvRC,GAwRD,OAxRC,GAyRD,oDAzRC,GA0RD,KA1RC,GA2RD,YA3RC,GA4RD,KA5RC,GA6RD,KA7RC,GA8RD,IA9RC,GA+RD,6CA/RC,GAgSD,MAhSC,GAiSD,2DAjSC,GAkSD,KAlSC,GAmSD,YAnSC,GAoSD,KApSC,GAqSD,KArSC,GAsSD,IAtSC,GAuSD,mDAvSC,GAwSD,OAxSC,GAySD,qBAzSC,GA0SD,OA1SC,GA2SD,0DA3SC,GA4SD,OA5SC,GA6SD,oDA7SC,GA8SD,KA9SC,GA+SD,YA/SC,GAgTD,KAhTC,GAiTD,IAjTC,GAkTD,kDAlTC,GAmTD,MAnTC,GAoTD,2DApTC,GAqTD,KArTC,GAsTD,YAtTC,GAuTD,MAvTC,GAwTD,KAxTC,GAyTD,IAzTC,GA0TD,4CA1TC,GA2TD,KA3TC,GA4TD,sBA5TC,GA6TD,OA7TC,GA8TD,mDA9TC,GA+TD,QA/TC,GAgUD,oDAhUC,GAiUD,KAjUC,GAkUD,YAlUC,GAmUD,KAnUC,GAoUD,IApUC,GAqUD,2CArUC,GAsUD,MAtUC,GAuUD,2DAvUC,GAwUD,KAxUC,GAyUD,YAzUC,GA0UD,IA1UC,GA2UD,IA3UC,GA4UD,OA5UC,GA6UD,IA7UC,GA8UD,IA9UC,GA+UD,IA/UC,GAgVD,IAhVC,GAiVD,IAjVC,GAkVD,IAlVC,GAmVD,kGAnVC,GAoVD,6EApVC,GAqVD,4CArVC,GAsVD,IAtVC,GAuVD,SAvVC,GAwVD,IAxVC,GAyVD,yEAzVC,GA0VD,MA1VC,GA2VD,8FA3VC,GA4VD,IA5VC,GA6VD,WA7VC,GA8VD,IA9VC,GA+VD,KAhWF,CADF,CADe;AAAA,CAAjB;;AAuWA,eAAeA,QAAf","sourcesContent":["import React from 'react'\n\nconst Triggers = () => (\n  <div>\n    <p>\n      {'/*Trigger for package table, BEFORE INSERT, or upon acceptance of a package/letter, the delivery_status \\n' +\n      '  of \\'Label Created\\' will populate the date_received field in package with the current server time */\\n' +\n      '\\n' +\n      'CREATE DEFINER=`team9`@`%` TRIGGER `PostOffice`.`package_BEFORE_INSERT` BEFORE INSERT ON `package` \\n' +\n      'FOR EACH ROW\\n' +\n      '\\n' +\n      'BEGIN\\n' +\n      ' \\n' +\n      ' if(New.delivery_status = \\'Label Created\\') then\\n' +\n      '\\n' +\n      '  set NEW.date_received = NOW(); -- Correction that can be applied in case we want Houston local time displayed - INTERVAL 5 HOUR;\\n' +\n      '\\n' +\n      ' end if;\\n' +\n      '\\n' +\n      'END\\n' +\n      '\\n' +\n      '\\n' +\n      '\\n' +\n      '\\n' +\n      '\\n' +\n      '\\n' +\n      '/*Trigger for package table, BEFORE UPDATE, or upon delivery of a package/letter, the delivery_status \\n' +\n      '  of \\'Delivered\\' will populate the date_received field in package with the current server time */\\n' +\n      '\\n' +\n      'CREATE DEFINER=`team9`@`%` TRIGGER `PostOffice`.`package_BEFORE_UPDATE` BEFORE UPDATE ON `package` FOR EACH ROW\\n' +\n      '\\n' +\n      'BEGIN\\n' +\n      '\\n' +\n      ' if(New.delivery_status = \\'Delivered\\') then\\n' +\n      '\\n' +\n      '  set NEW.date_delivered = NOW(); -- Correction that can be applied in case we want Houston time displayed - INTERVAL 5 HOUR;\\n' +\n      '\\n' +\n      ' end if;\\n' +\n      '\\n' +\n      'END\\n' +\n      '\\n' +\n      '\\n' +\n      '\\n' +\n      '\\n' +\n      '\\n' +\n      '\\n' +\n      '/*Trigger for tracking table, BEFORE INSERT, or upon creation. One type of trigger: when a tracking event_type is \\n' +\n      '  entered, the date the package arrived and received will also be set in the package entity (delivery_status). \\n' +\n      '  A second type of trigger: when all the event_types are entered in the tracking entity, the time_of_event will \\n' +\n      '  be populated with the current datetime */\\n' +\n      '\\n' +\n      'CREATE DEFINER=`team9`@`%` TRIGGER `PostOffice`.`tracking_BEFORE_INSERT` BEFORE INSERT ON `tracking` FOR EACH ROW\\n' +\n      '\\n' +\n      'BEGIN\\n' +\n      '--Trigger One type: Upon creation of an event_type in tracking, the package table/delivery_status will be updated\\n' +\n      ' \\n' +\n      'if(new.event_type = \\'Label Created\\')then\\n' +\n      '\\n' +\n      '   update package\\n' +\n      '  \\n' +\n      '    SET package.delivery_status =\\'Label Created\\'\\n' +\n      '  \\n' +\n      '   where new.package_fk_id = package.package_id;\\n' +\n      ' \\n' +\n      '  end if;\\n' +\n      '\\n' +\n      '\\n' +\n      '--Trigger Two type: Upon creation of an event_type, the tracking table/time_of_event will be populated with current server time\\n' +\n      ' if(new.event_type = \\'Label Created\\')then\\n' +\n      '  \\n' +\n      '   set NEW.time_of_event = NOW(); -- correction that can be applied in case we want to display Houston time - INTERVAL 5 HOUR;\\n' +\n      ' \\n' +\n      ' end if;\\n' +\n      ' \\n' +\n      '\\n' +\n      '\\n' +\n      ' if(new.event_type = \\'Dropped Off\\')then\\n' +\n      '  \\n' +\n      '   update package\\n' +\n      '  \\n' +\n      '    SET package.delivery_status =\\'Drop Off\\'\\n' +\n      '  \\n' +\n      '   where new.package_fk_id = package.package_id;\\n' +\n      ' \\n' +\n      '  end if;\\n' +\n      '\\n' +\n      '\\n' +\n      ' if(new.event_type = \\'Dropped Off\\')then\\n' +\n      '  \\n' +\n      '   set NEW.time_of_event = NOW(); -- - INTERVAL 5 HOUR;\\n' +\n      ' \\n' +\n      ' end if;\\n' +\n      '  \\n' +\n      '\\n' +\n      '\\n' +\n      ' if(new.event_type = \\'Arrived to Facility\\')then\\n' +\n      '  \\n' +\n      '   update package\\n' +\n      '  \\n' +\n      '    SET package.delivery_status =\\'In Sorting\\'\\n' +\n      '  \\n' +\n      '   where new.package_fk_id = package.package_id;\\n' +\n      ' \\n' +\n      ' end if;\\n' +\n      ' \\n' +\n      '\\n' +\n      ' if(new.event_type = \\'Arrived to Facility\\')then\\n' +\n      '  \\n' +\n      '   set NEW.time_of_event = NOW(); -- - INTERVAL 5 HOUR;\\n' +\n      ' \\n' +\n      ' end if;\\n' +\n      ' \\n' +\n      ' \\n' +\n      '\\n' +\n      ' if(new.event_type = \\'Left Facility\\')then\\n' +\n      '   \\n' +\n      '   update package\\n' +\n      '   \\n' +\n      '    set package.delivery_status = \\'In Transit\\'\\n' +\n      '    \\n' +\n      '   where new.package_fk_id = package.package_id;\\n' +\n      ' \\n' +\n      ' end if;\\n' +\n      ' \\n' +\n      '\\n' +\n      ' if(new.event_type = \\'Left Facility\\')then\\n' +\n      '  \\n' +\n      '   set NEW.time_of_event = NOW(); -- - INTERVAL 5 HOUR;\\n' +\n      ' \\n' +\n      ' end if;\\n' +\n      '  \\n' +\n      ' \\n' +\n      '\\n' +\n      ' if(new.event_type = \\'In Vehicle\\')then\\n' +\n      '   \\n' +\n      '   update package\\n' +\n      '    \\n' +\n      '    set  package.delivery_status = \\'In Transit\\'\\n' +\n      '   \\n' +\n      '   where new.package_fk_id = package.package_id;\\n' +\n      ' \\n' +\n      ' end if;\\n' +\n      ' \\n' +\n      ' \\n' +\n      '\\n' +\n      ' if(new.event_type = \\'Off Vehicle\\')then\\n' +\n      '  \\n' +\n      '   set NEW.time_of_event = NOW(); -- - INTERVAL 5 HOUR;\\n' +\n      ' \\n' +\n      ' end if;\\n' +\n      ' \\n' +\n      ' \\n' +\n      '\\n' +\n      ' if(new.event_type = \\'Out for Delivery\\')then\\n' +\n      '   \\n' +\n      '   update package\\n' +\n      '   \\n' +\n      '    set package.delivery_status = \\'Out for Delivery\\'\\n' +\n      '   \\n' +\n      '   where new.package_fk_id = package.package_id;\\n' +\n      ' \\n' +\n      ' end if;\\n' +\n      ' \\n' +\n      '\\n' +\n      ' if(new.event_type = \\'Out for Delivery\\')then\\n' +\n      '  \\n' +\n      '   set NEW.time_of_event = NOW(); -- - INTERVAL 5 HOUR;\\n' +\n      ' \\n' +\n      ' end if;\\n' +\n      '\\n' +\n      ' \\n' +\n      '\\n' +\n      ' if(NEW.event_type = \\'Delivered\\')then\\n' +\n      ' \\n' +\n      '   update package SET package.delivery_status = \\'Delivered\\'\\n' +\n      '    \\n' +\n      '   WHERE NEW.package_fk_id = package.package_id;\\n' +\n      ' \\n' +\n      ' end if;\\n' +\n      ' \\n' +\n      '\\n' +\n      ' if(new.event_type = \\'Delivered\\')then\\n' +\n      '  \\n' +\n      '   set NEW.time_of_event = NOW(); -- - INTERVAL 5 HOUR;\\n' +\n      ' \\n' +\n      ' end if;\\n' +\n      '\\n' +\n      '\\n' +\n      'END\\n' +\n      '\\n' +\n      '\\n' +\n      '\\n' +\n      '\\n' +\n      '\\n' +\n      '/*Trigger for tracking table, BEFORE UPDATE, or when tracking event is updated. One type of trigger: when a \\n' +\n      '  tracking event_type is entered, the package/delivery_status will be updated to match the tracking/event_type. \\n' +\n      '  A second type of trigger: when all the event_types are updated in the tracking entity, the time_of_event will \\n' +\n      '  be populated with the current datetime */\\n' +\n      '\\n' +\n      'CREATE DEFINER=`team9`@`%` TRIGGER `PostOffice`.`tracking_BEFORE_UPDATE` BEFORE UPDATE ON `tracking` FOR EACH ROW\\n' +\n      '\\n' +\n      'BEGIN\\n' +\n      '--Trigger One type: Upon update of an event_type in tracking, the package table/delivery_status will be updated\\n' +\n      ' \\n' +\n      'if(new.event_type = \\'Label Created\\')then\\n' +\n      '  \\n' +\n      '   update package\\n' +\n      '  \\n' +\n      '    SET package.delivery_status =\\'Label Created\\'\\n' +\n      '  \\n' +\n      '   where new.package_fk_id = package.package_id;\\n' +\n      ' \\n' +\n      ' end if;\\n' +\n      '\\n' +\n      '\\n' +\n      '--Trigger Two type: Upon update of tracking event_type, the tracking table/time_of_event will be populated with current server time\\n' +\n      ' if(new.event_type = \\'Label Created\\')then\\n' +\n      '  \\n' +\n      '   set NEW.time_of_event = NOW(); -- Correction that can be applied in case we want to display Houston time - INTERVAL 5 HOUR;\\n' +\n      ' \\n' +\n      ' end if;\\n' +\n      ' \\n' +\n      '\\n' +\n      '\\n' +\n      ' if(new.event_type = \\'Dropped Off\\')then\\n' +\n      '  \\n' +\n      '   update package\\n' +\n      '  \\n' +\n      '    SET package.delivery_status =\\'Drop Off\\'\\n' +\n      '  \\n' +\n      '   where new.package_fk_id = package.package_id;\\n' +\n      ' \\n' +\n      ' end if;\\n' +\n      '\\n' +\n      '\\n' +\n      ' if(new.event_type = \\'Dropped Off\\')then\\n' +\n      '  \\n' +\n      '   set NEW.time_of_event = NOW(); -- - INTERVAL 5 HOUR;\\n' +\n      ' \\n' +\n      ' end if;\\n' +\n      '  \\n' +\n      '\\n' +\n      ' if(new.event_type = \\'Arrived to Facility\\')then\\n' +\n      '  \\n' +\n      '   update package\\n' +\n      '  \\n' +\n      '    SET package.delivery_status =\\'In Sorting\\'\\n' +\n      '  \\n' +\n      '   where new.package_fk_id = package.package_id;\\n' +\n      ' \\n' +\n      ' end if;\\n' +\n      ' \\n' +\n      '\\n' +\n      ' if(new.event_type = \\'Arrived to Facility\\')then\\n' +\n      '  \\n' +\n      '   set NEW.time_of_event = NOW(); -- - INTERVAL 5 HOUR;\\n' +\n      ' \\n' +\n      ' end if;\\n' +\n      '   \\n' +\n      ' \\n' +\n      '\\n' +\n      ' if(new.event_type = \\'Left Facility\\') then\\n' +\n      '   \\n' +\n      '   update package\\n' +\n      '   \\n' +\n      '    set package.delivery_status = \\'In Transit\\'\\n' +\n      '   \\n' +\n      '   where new.package_fk_id = package.package_id;\\n' +\n      ' \\n' +\n      ' end if;\\n' +\n      ' \\n' +\n      '\\n' +\n      ' if(new.event_type = \\'Left Facility\\')then\\n' +\n      '  \\n' +\n      '   set NEW.time_of_event = NOW(); -- - INTERVAL 5 HOUR;\\n' +\n      ' \\n' +\n      ' end if;\\n' +\n      ' \\n' +\n      ' \\n' +\n      '\\n' +\n      ' if(new.event_type = \\'In Vehicle\\')then\\n' +\n      '   \\n' +\n      '   update package\\n' +\n      '    \\n' +\n      '    set package.delivery_status = \\'In Transit\\'\\n' +\n      '   \\n' +\n      '   where new.package_fk_id = package.package_id;\\n' +\n      ' \\n' +\n      ' end if;\\n' +\n      ' \\n' +\n      ' \\n' +\n      '\\n' +\n      ' if(new.event_type = \\'Off Vehicle\\')then\\n' +\n      '  \\n' +\n      '   set NEW.time_of_event = NOW(); -- - INTERVAL 5 HOUR;\\n' +\n      ' \\n' +\n      ' end if;\\n' +\n      ' \\n' +\n      ' \\n' +\n      '\\n' +\n      ' if(new.event_type = \\'Out for Delivery\\') then\\n' +\n      '   \\n' +\n      '   update package\\n' +\n      '   \\n' +\n      '    set package.delivery_status = \\'Out for Delivery\\'\\n' +\n      '   \\n' +\n      '   where new.package_fk_id = package.package_id;\\n' +\n      ' \\n' +\n      ' end if;\\n' +\n      ' \\n' +\n      '\\n' +\n      ' if(new.event_type = \\'Out for Delivery\\')then\\n' +\n      '  \\n' +\n      '   set NEW.time_of_event = NOW(); -- - INTERVAL 5 HOUR;\\n' +\n      ' \\n' +\n      ' end if;\\n' +\n      '  \\n' +\n      ' \\n' +\n      '\\n' +\n      ' if(NEW.event_type = \\'Delivered\\') then\\n' +\n      ' \\n' +\n      '   update package \\n' +\n      '   \\n' +\n      '    SET package.delivery_status = \\'Delivered\\'\\n' +\n      '    \\n' +\n      '   WHERE NEW.package_fk_id = package.package_id;\\n' +\n      ' \\n' +\n      ' end if;\\n' +\n      ' \\n' +\n      '\\n' +\n      ' if(new.event_type = \\'Delivered\\')then\\n' +\n      '  \\n' +\n      '   set NEW.time_of_event = NOW(); -- - INTERVAL 5 HOUR;\\n' +\n      ' \\n' +\n      ' end if;\\n' +\n      '\\n' +\n      '\\n' +\n      'END\\n' +\n      '\\n' +\n      '\\n' +\n      '\\n' +\n      '\\n' +\n      '\\n' +\n      '\\n' +\n      '/*Trigger that will not allow an employee that is under 18 to be entered into employee table*/\\n' +\n      'CREATE DEFINER=`team9`@`%` TRIGGER `PostOffice`.`employee_BEFORE_INSERT` \\n' +\n      'BEFORE INSERT ON `employee` FOR EACH ROW\\n' +\n      '\\n' +\n      'BEGIN\\n' +\n      '\\n' +\n      'if(timestampdiff(YEAR, NEW.employee_date_birth, CURDATE()) < 18) then\\n' +\n      '  \\n' +\n      '  signal SQLSTATE \\'45000\\' SET message_text = \\'Employee is under 18- please re- enter\\';\\n' +\n      '\\n' +\n      'end if;\\n' +\n      '\\n' +\n      'END'}\n    </p>\n  </div>\n);\n\nexport default Triggers"]},"metadata":{},"sourceType":"module"}