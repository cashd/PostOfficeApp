{"ast":null,"code":"import _classCallCheck from \"/home/cash/Documents/PostOffice/Frontend-React/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/cash/Documents/PostOffice/Frontend-React/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/cash/Documents/PostOffice/Frontend-React/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/cash/Documents/PostOffice/Frontend-React/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"/home/cash/Documents/PostOffice/Frontend-React/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/home/cash/Documents/PostOffice/Frontend-React/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/cash/Documents/PostOffice/Frontend-React/src/containers/empFacility/index.js\";\nimport React from 'react';\nimport Button from 'react-bootstrap/Button';\nimport Modal from 'react-bootstrap/Modal';\nimport Form from 'react-bootstrap/Form';\nimport Col from 'react-bootstrap/Col';\nimport Card from 'react-bootstrap/Card';\nimport Table from 'react-bootstrap/Table';\nimport { List } from 'immutable';\nimport { apiPost } from '../../utils/api';\nimport Alert from 'react-bootstrap/Alert';\n\nvar EmpFacility =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(EmpFacility, _React$Component);\n\n  function EmpFacility(props) {\n    var _this;\n\n    _classCallCheck(this, EmpFacility);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(EmpFacility).call(this, props));\n\n    _this.makeTR = function (p, id) {\n      return React.createElement(React.Fragment, {\n        key: id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }, \" \", React.createElement(Form.Check, {\n        type: \"checkbox\",\n        id: p.id,\n        onChange: _this.handleCheckbox,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }), \" \"), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      }, \" \", p.id, \" \"), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }, \" \", p.senderEmail, \" \"), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, \" \", p.recipientEmail, \" \"), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, \" \", p.senderAddress, \" \"), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, \" \", p.recipientAddress, \" \"), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, \" \", p.deliveryStatus, \" \"), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, \" \", p.packageWeight, \" \")));\n    };\n\n    _this.getPackages = function () {\n      apiPost('/facility/packages', {\n        facilityID: _this.state.facilityID\n      }).then(function (resp) {\n        if (resp.packages) {\n          _this.setState({\n            packages: List(resp.packages)\n          });\n        } else {\n          _this.setState({\n            notification: {\n              is: true,\n              message: 'Could not get packages.',\n              type: 'danger',\n              header: 'Error!'\n            }\n          });\n        }\n      }).catch(function (error) {\n        _this.setState({\n          notification: {\n            is: true,\n            message: 'Could not get packages.',\n            type: 'danger',\n            header: 'Error!'\n          }\n        });\n      });\n    };\n\n    _this.getTrucks = function () {\n      apiPost('/facility/trucks', {\n        facilityID: _this.state.facilityID\n      }).then(function (resp) {\n        console.log(resp);\n\n        if (resp.trucks) {\n          _this.setState({\n            trucks: List(resp.trucks)\n          });\n        } else {\n          _this.setState({\n            notification: {\n              is: true,\n              message: 'There are currently no trucks at the facility!',\n              type: 'warning',\n              header: 'No trucks.'\n            }\n          });\n        }\n      }).catch(function (error) {\n        _this.setState({\n          notification: {\n            is: true,\n            message: 'Could not get trucks.',\n            type: 'danger',\n            header: 'Error!'\n          }\n        });\n      });\n    };\n\n    _this.handleCheckbox = function (event) {\n      var checkbox = document.getElementById(event.target.id);\n      console.log(checkbox.checked);\n\n      if (checkbox.checked) {\n        console.log('here');\n\n        _this.setState({\n          selectedPackages: _this.state.selectedPackages.push(event.target.id)\n        }, function () {\n          checkbox.checked = true;\n        });\n      } else {\n        _this.setState({\n          selectedPackages: _this.state.selectedPackages.delete(_this.state.selectedPackages.indexOf(event.target.id))\n        }, function () {\n          checkbox.checked = false;\n        });\n      }\n    };\n\n    _this.handleMoveButton = function (event) {\n      console.log(_this.state.selectedPackages);\n    };\n\n    _this.handleTruckChange = function (event) {\n      _this.setState({\n        selectedTruck: event.target.value\n      });\n    };\n\n    _this.state = {\n      id: props.info.id,\n      isManager: props.info.isManager ? props.info.isManager : false,\n      facilityID: props.info.facilityID,\n      packages: List([]),\n      selectedPackages: List([]),\n      trucks: List([]),\n      selectedTruck: 'Choose...',\n      notification: {\n        is: false,\n        message: '',\n        type: '',\n        header: ''\n      }\n    };\n    _this.makeTR = _this.makeTR.bind(_assertThisInitialized(_this));\n    _this.getPackages = _this.getPackages.bind(_assertThisInitialized(_this));\n    _this.getTrucks = _this.getTrucks.bind(_assertThisInitialized(_this));\n    _this.handleCheckbox = _this.handleCheckbox.bind(_assertThisInitialized(_this));\n    _this.handleMoveButton = _this.handleMoveButton.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(EmpFacility, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getPackages();\n      this.getTrucks();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, this.state.notification.is ? React.createElement(Alert, {\n        variant: this.state.notification.type,\n        dismissible: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, \" \", React.createElement(Alert.Heading, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, this.state.notification.header), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, this.state.notification.message)) : null, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, React.createElement(Card, {\n        className: \"text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, React.createElement(Card.Header, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, \"Control Center\"), React.createElement(Card.Body, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, React.createElement(Card.Title, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, \"Employee Actions\"), React.createElement(Form.Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, React.createElement(Button, {\n        size: \"lg\",\n        variant: \"info\",\n        style: ControlButtonStyle,\n        onClick: this.handleMoveButton,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, \"Move Packages into Truck\"), React.createElement(Form.Group, {\n        as: Col,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, React.createElement(Form.Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, \" Choose truck \"), React.createElement(Form.Control, {\n        as: \"select\",\n        value: this.state.selectedTruck,\n        onChange: this.handleTruckChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, \"Choose...\"), this.state.trucks.map(function (truck) {\n        return React.createElement(\"option\", {\n          key: truck.truckID,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 119\n          },\n          __self: this\n        }, truck.truckID);\n      }))))))), React.createElement(\"h3\", {\n        style: h3Style,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, \"Packages in Facility\"), React.createElement(Table, {\n        style: tableStyle,\n        striped: true,\n        bordered: true,\n        hover: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, React.createElement(\"thead\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, \"Selector\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, \"#\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, \"Sender Email\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, \"Sender Address\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }, \"Recipient Email\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }, \"Recipient Address\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, \"Delivery Status\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }, \"Weight\"))), React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, this.state.packages.map(function (p) {\n        return _this2.makeTR(p, p.id);\n      }))));\n    }\n  }]);\n\n  return EmpFacility;\n}(React.Component);\n\nvar ControlButtonStyle = {\n  marginRight: '16px'\n};\nvar tableStyle = {\n  margin: '0 auto',\n  textAlign: \"center\"\n};\nvar h3Style = {\n  marginTop: '2.5%'\n};\nexport default EmpFacility;","map":{"version":3,"sources":["/home/cash/Documents/PostOffice/Frontend-React/src/containers/empFacility/index.js"],"names":["React","Button","Modal","Form","Col","Card","Table","List","apiPost","Alert","EmpFacility","props","makeTR","p","id","handleCheckbox","senderEmail","recipientEmail","senderAddress","recipientAddress","deliveryStatus","packageWeight","getPackages","facilityID","state","then","resp","packages","setState","notification","is","message","type","header","catch","error","getTrucks","console","log","trucks","event","checkbox","document","getElementById","target","checked","selectedPackages","push","delete","indexOf","handleMoveButton","handleTruckChange","selectedTruck","value","info","isManager","bind","ControlButtonStyle","map","truck","truckID","h3Style","tableStyle","Component","marginRight","margin","textAlign","marginTop"],"mappings":"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","sourcesContent":["import React from 'react'\nimport Button from 'react-bootstrap/Button'\nimport Modal from 'react-bootstrap/Modal'\nimport Form from 'react-bootstrap/Form'\nimport Col from 'react-bootstrap/Col'\nimport Card from 'react-bootstrap/Card'\nimport Table from 'react-bootstrap/Table'\nimport { List } from 'immutable'\nimport { apiPost } from '../../utils/api'\nimport Alert from 'react-bootstrap/Alert';\n\n\nclass EmpFacility extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      id: props.info.id,\n      isManager: props.info.isManager ? props.info.isManager : false,\n      facilityID: props.info.facilityID,\n      packages: List([]),\n      selectedPackages: List([]),\n      trucks: List([]),\n      selectedTruck: 'Choose...',\n      notification: { is: false, message: '', type: '', header: '' }\n    };\n\n    this.makeTR = this.makeTR.bind(this);\n    this.getPackages = this.getPackages.bind(this);\n    this.getTrucks = this.getTrucks.bind(this);\n    this.handleCheckbox = this.handleCheckbox.bind(this);\n    this.handleMoveButton = this.handleMoveButton.bind(this);\n  }\n\n  componentDidMount() {\n    this.getPackages()\n    this.getTrucks();\n  }\n\n\n  makeTR = (p, id) => {\n    return (\n      <React.Fragment key={id}>\n        <tr>\n          <td> <Form.Check type=\"checkbox\" id={ p.id } onChange={ this.handleCheckbox } /> </td>\n          <td> { p.id } </td>\n          <td> { p.senderEmail } </td>\n          <td> { p.recipientEmail } </td>\n          <td> { p.senderAddress } </td>\n          <td> { p.recipientAddress } </td>\n          <td> { p.deliveryStatus } </td>\n          <td> { p.packageWeight } </td>\n        </tr>\n      </React.Fragment>)\n  };\n\n  getPackages = () => {\n    apiPost('/facility/packages', { facilityID: this.state.facilityID })\n      .then((resp) => {\n        if (resp.packages) {\n          this.setState({ packages: List(resp.packages) })\n        } else {\n          this.setState({ notification: { is: true, message: 'Could not get packages.', type: 'danger', header: 'Error!' } })\n        }\n      })\n      .catch(error => {\n        this.setState({ notification: { is: true, message: 'Could not get packages.', type: 'danger', header: 'Error!' } })\n      })\n  };\n\n  getTrucks = () => {\n    apiPost('/facility/trucks', { facilityID: this.state.facilityID })\n      .then(resp => {\n        console.log(resp);\n        if (resp.trucks) {\n          this.setState({ trucks: List(resp.trucks) })\n        } else {\n          this.setState({ notification: { is: true, message: 'There are currently no trucks at the facility!', type: 'warning', header: 'No trucks.' } })\n        }\n      })\n      .catch(error => {\n        this.setState({ notification: { is: true, message: 'Could not get trucks.', type: 'danger', header: 'Error!' } })\n      })\n  };\n\n  handleCheckbox = (event) => {\n    const checkbox = document.getElementById(event.target.id);\n    console.log(checkbox.checked);\n    if (checkbox.checked) {\n      console.log('here');\n      this.setState({ selectedPackages: this.state.selectedPackages.push(event.target.id) }, () => { checkbox.checked = true });\n    } else {\n      this.setState({ selectedPackages: this.state.selectedPackages.delete(this.state.selectedPackages.indexOf(event.target.id)) }, () => { checkbox.checked = false; } );\n    }\n  };\n\n  handleMoveButton = (event) => {\n    console.log(this.state.selectedPackages);\n  };\n\n  handleTruckChange = (event) => {\n    this.setState({ selectedTruck: event.target.value });\n  };\n\n  render() {\n    return (\n      <div>\n        { this.state.notification.is ? (<Alert variant={this.state.notification.type} dismissible> <Alert.Heading>{ this.state.notification.header }</Alert.Heading><p>{ this.state.notification.message }</p></Alert>): null }\n        <div>\n          <Card className=\"text-center\">\n            <Card.Header>Control Center</Card.Header>\n            <Card.Body>\n              <Card.Title>Employee Actions</Card.Title>\n              <Form.Row>\n                <Button size='lg' variant=\"info\" style={ControlButtonStyle} onClick={this.handleMoveButton}>Move Packages into Truck</Button>\n                <Form.Group as={Col}>\n                  <Form.Label> Choose truck </Form.Label>\n                  <Form.Control as='select' value={this.state.selectedTruck} onChange={this.handleTruckChange}>\n                    <option>Choose...</option>\n                    { this.state.trucks.map((truck) => {return (<option key={truck.truckID}>{truck.truckID}</option>)}) }\n                  </Form.Control>\n              </Form.Group>\n              </Form.Row>\n            </Card.Body>\n          </Card>\n        </div>\n\n        <h3 style={h3Style}>Packages in Facility</h3>\n        <Table style={tableStyle} striped bordered hover>\n          <thead>\n            <tr>\n              <th>Selector</th>\n              <th>#</th>\n              <th>Sender Email</th>\n              <th>Sender Address</th>\n              <th>Recipient Email</th>\n              <th>Recipient Address</th>\n              <th>Delivery Status</th>\n              <th>Weight</th>\n            </tr>\n          </thead>\n          <tbody>\n          { this.state.packages.map((p) => { return this.makeTR(p, p.id) }) }\n          </tbody>\n    </Table>\n      </div>\n    )\n    }\n}\n\nconst ControlButtonStyle = {\n  marginRight: '16px',\n};\n\nconst tableStyle = {\n  margin: '0 auto',\n  textAlign: \"center\",\n};\n\nconst h3Style = {\n  marginTop: '2.5%',\n};\n\nexport default EmpFacility;"]},"metadata":{},"sourceType":"module"}