{"ast":null,"code":"import _objectSpread from \"/home/cash/Documents/PostOffice/Frontend-React/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport { apiPost } from '../utils/api';\nimport { List } from 'immutable';\nexport var PACKAGES_REQUEST = 'customer/PACKAGES_REQUEST';\nexport var PACKAGES_SUCCESS = 'customer/PACKAGES_SUCCESS';\nexport var CHANGE_NEW_PACKAGE_VIEW = 'customer/CHANGE_NEW_PACKAGE_VIEW';\nexport var NEW_PACKAGE_SUCCESS = 'customer/NEW_PACKAGE_SUCCESS';\nexport var ERROR = 'customer/ERROR';\nexport var UPDATE_NEW_PACKAGE_EMAIL = 'customer/UPDATE_NEW_PACKAGE_EMAIL';\nexport var UPDATE_NEW_PACKAGE_ADDRESS = 'customer/UPDATE_NEW_PACKAGE_ADDRESS';\nexport var UPDATE_NEW_PACKAGE_WEIGHT = 'customer/UPDATE_NEW_PACKAGE_WEIGHT';\nexport var GET_INCOMING_PACKAGES = 'customer/GET_INCOMING_PACKAGES';\nvar initialState = {\n  packages: List([]),\n  inPackages: List([]),\n  newPackageViewStatus: false,\n  error: {\n    is: false,\n    msg: ''\n  },\n  newPackEmail: '',\n  newPackAddress: '',\n  newPackWeight: 0\n};\nexport default (function () {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case PACKAGES_SUCCESS:\n      return _objectSpread({}, state, {\n        packages: action.payload.packages\n      });\n\n    case CHANGE_NEW_PACKAGE_VIEW:\n      return _objectSpread({}, state, {\n        newPackageViewStatus: action.payload.status\n      });\n\n    case ERROR:\n      return _objectSpread({}, state, {\n        error: action.payload.error\n      });\n\n    case UPDATE_NEW_PACKAGE_ADDRESS:\n      return _objectSpread({}, state, {\n        newPackAddress: action.payload.address\n      });\n\n    case UPDATE_NEW_PACKAGE_EMAIL:\n      return _objectSpread({}, state, {\n        newPackEmail: action.payload.email\n      });\n\n    case UPDATE_NEW_PACKAGE_WEIGHT:\n      return _objectSpread({}, state, {\n        newPackWeight: action.payload.weight\n      });\n\n    case GET_INCOMING_PACKAGES:\n      return _objectSpread({}, state, {\n        inPackages: action.payload.packages\n      });\n\n    default:\n      return state;\n  }\n});\nexport var getPackages = function getPackages(id) {\n  return function (dispatch) {\n    dispatch({\n      type: PACKAGES_REQUEST\n    });\n    apiPost('/customer/packages', {\n      id: id\n    }).then(function (respJSON) {\n      dispatch({\n        type: PACKAGES_SUCCESS,\n        payload: {\n          packages: List(respJSON.packages)\n        }\n      });\n    });\n  };\n};\nexport var changeNewPackageView = function changeNewPackageView(status) {\n  return function (dispatch) {\n    dispatch({\n      type: CHANGE_NEW_PACKAGE_VIEW,\n      payload: {\n        status: !status\n      }\n    });\n  };\n};\nexport var newPackage = function newPackage(info) {\n  console.log(info);\n  return function (dispatch) {\n    apiPost('/customer/newPackage', info).then(function (respJSON) {\n      if (respJSON.success) {\n        console.log(respJSON);\n        dispatch({\n          type: NEW_PACKAGE_SUCCESS\n        });\n        window.location.reload();\n      } else {\n        changeNewPackageView(true);\n        throw new Error('Could not make new package');\n      }\n    }).catch(function (error) {\n      dispatch({\n        type: ERROR,\n        payload: {\n          error: {\n            is: true,\n            msg: error.message\n          }\n        }\n      });\n    });\n  };\n};\nexport var updateNewPackageEmail = function updateNewPackageEmail(email) {\n  return function (dispatch) {\n    dispatch({\n      type: UPDATE_NEW_PACKAGE_EMAIL,\n      payload: {\n        email: email\n      }\n    });\n  };\n};\nexport var updateNewPackageAddress = function updateNewPackageAddress(address) {\n  return function (dispatch) {\n    dispatch({\n      type: UPDATE_NEW_PACKAGE_ADDRESS,\n      payload: {\n        address: address\n      }\n    });\n  };\n};\nexport var updateNewPackageWeight = function updateNewPackageWeight(weight) {\n  return function (dispatch) {\n    dispatch({\n      type: UPDATE_NEW_PACKAGE_WEIGHT,\n      payload: {\n        weight: weight\n      }\n    });\n  };\n};\nexport var getIncomingPackages = function getIncomingPackages(id) {\n  return function (dispatch) {\n    apiPost('/customer/incomingPackages', {\n      id: id\n    }).then(function (resp) {\n      dispatch({\n        type: GET_INCOMING_PACKAGES,\n        payload: {\n          packages: List(resp.packages)\n        }\n      });\n    }).catch(function (error) {\n      dispatch({\n        type: ERROR,\n        payload: {\n          error: {\n            is: true,\n            msg: error.message\n          }\n        }\n      });\n    });\n  };\n};","map":{"version":3,"sources":["/home/cash/Documents/PostOffice/Frontend-React/src/reducers/customer.js"],"names":["apiPost","List","PACKAGES_REQUEST","PACKAGES_SUCCESS","CHANGE_NEW_PACKAGE_VIEW","NEW_PACKAGE_SUCCESS","ERROR","UPDATE_NEW_PACKAGE_EMAIL","UPDATE_NEW_PACKAGE_ADDRESS","UPDATE_NEW_PACKAGE_WEIGHT","GET_INCOMING_PACKAGES","initialState","packages","inPackages","newPackageViewStatus","error","is","msg","newPackEmail","newPackAddress","newPackWeight","state","action","type","payload","status","address","email","weight","getPackages","id","dispatch","then","respJSON","changeNewPackageView","newPackage","info","console","log","success","window","location","reload","Error","catch","message","updateNewPackageEmail","updateNewPackageAddress","updateNewPackageWeight","getIncomingPackages","resp"],"mappings":"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","sourcesContent":["import { apiPost } from '../utils/api'\nimport { List } from 'immutable'\n\nexport const PACKAGES_REQUEST = 'customer/PACKAGES_REQUEST';\nexport const PACKAGES_SUCCESS = 'customer/PACKAGES_SUCCESS';\nexport const CHANGE_NEW_PACKAGE_VIEW = 'customer/CHANGE_NEW_PACKAGE_VIEW';\nexport const NEW_PACKAGE_SUCCESS = 'customer/NEW_PACKAGE_SUCCESS';\nexport const ERROR = 'customer/ERROR';\nexport const UPDATE_NEW_PACKAGE_EMAIL = 'customer/UPDATE_NEW_PACKAGE_EMAIL';\nexport const UPDATE_NEW_PACKAGE_ADDRESS = 'customer/UPDATE_NEW_PACKAGE_ADDRESS';\nexport const UPDATE_NEW_PACKAGE_WEIGHT = 'customer/UPDATE_NEW_PACKAGE_WEIGHT';\nexport const GET_INCOMING_PACKAGES = 'customer/GET_INCOMING_PACKAGES';\n\nconst initialState = {\n  packages: List([]),\n  inPackages: List([]),\n  newPackageViewStatus: false,\n  error: { is: false, msg: '' },\n  newPackEmail: '',\n  newPackAddress: '',\n  newPackWeight: 0,\n};\n\nexport default (state = initialState, action) => {\n  switch (action.type) {\n    case PACKAGES_SUCCESS:\n      return {\n        ...state,\n        packages: action.payload.packages\n      };\n    case CHANGE_NEW_PACKAGE_VIEW:\n      return {\n        ...state,\n        newPackageViewStatus: action.payload.status\n      };\n    case ERROR:\n      return {\n        ...state,\n        error: action.payload.error\n      };\n    case UPDATE_NEW_PACKAGE_ADDRESS:\n      return {\n        ...state,\n        newPackAddress: action.payload.address\n      };\n    case UPDATE_NEW_PACKAGE_EMAIL:\n      return {\n        ...state,\n        newPackEmail: action.payload.email\n      };\n    case UPDATE_NEW_PACKAGE_WEIGHT:\n      return {\n        ...state,\n        newPackWeight: action.payload.weight\n      };\n    case GET_INCOMING_PACKAGES:\n      return {\n        ...state,\n        inPackages: action.payload.packages\n      };\n    default:\n      return state\n  }\n}\n\nexport const getPackages = (id) => {\n  return dispatch =>{\n    dispatch({ type: PACKAGES_REQUEST })\n    apiPost('/customer/packages', { id: id })\n      .then((respJSON) => {\n        dispatch({ type: PACKAGES_SUCCESS, payload: { packages: List(respJSON.packages) } })\n      })\n  }\n};\n\nexport const changeNewPackageView = (status) => {\n  return dispatch => {\n    dispatch({ type: CHANGE_NEW_PACKAGE_VIEW, payload: { status: !status } })\n  }\n};\n\nexport const newPackage = (info) => {\n  console.log(info);\n  return dispatch => {\n    apiPost('/customer/newPackage', info)\n      .then((respJSON) => {\n        if (respJSON.success) {\n          console.log(respJSON)\n          dispatch({ type: NEW_PACKAGE_SUCCESS })\n          window.location.reload()\n        } else {\n          changeNewPackageView(true)\n          throw new Error('Could not make new package')\n        }\n      })\n      .catch((error) => {\n        dispatch({ type: ERROR, payload: { error: { is: true, msg: error.message } } })\n      })\n  }\n};\n\nexport const updateNewPackageEmail = (email) => {\n  return dispatch => {\n    dispatch({ type: UPDATE_NEW_PACKAGE_EMAIL, payload: { email: email } })\n  }\n};\n\nexport const updateNewPackageAddress = (address) => {\n  return dispatch => {\n    dispatch({ type: UPDATE_NEW_PACKAGE_ADDRESS, payload: { address: address } })\n  }\n};\n\nexport const updateNewPackageWeight= (weight) => {\n  return dispatch => {\n    dispatch({ type: UPDATE_NEW_PACKAGE_WEIGHT, payload: { weight: weight } })\n  }\n};\n\nexport const getIncomingPackages = (id) => {\n  return dispatch => {\n    apiPost('/customer/incomingPackages', { id: id })\n      .then((resp) => {\n        dispatch({ type: GET_INCOMING_PACKAGES, payload: { packages: List(resp.packages) } })\n      })\n      .catch((error) => {\n        dispatch({ type: ERROR, payload: { error: { is: true, msg: error.message } } })\n      })\n  }\n};\n"]},"metadata":{},"sourceType":"module"}